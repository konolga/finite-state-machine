import React from 'react'

const states = {
  loading: false,
  success: false,
  error: false,
  results: null
};

const fetchStates = {
  loading: { ...states, loading: true },
  success: { ...states, success: true },
  error: {...states, error: true}
}

const fetchState = (...args) => {
  setInitState(fetchStates.loading);
  try {
    const res = await fetch(...args);
    if (res.ok) {
      const results = await res.json();
      updateState({ ...fetchStates.success, results })
    }
  } catch (error) {
    updateState(fetchStates.error);
  }
};

export default fetchState;
